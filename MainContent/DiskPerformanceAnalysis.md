---
sort: 3
---

# Disk Performance Analysis


컨트롤러와 커넥터 및 관리 소프트웨어를 포함하는 디스크와 디스크 하위 시스템은 모든 컴퓨팅 시스템에서 가장 느린 단일 부분 중 하나입니다. 수년에 걸쳐 메모리와 CPU는 계속해서 더 빨라졌습니다. 하지만 최근에 SSD (Solid-State Disk)와 같은 기술로 본 급격한 개선 사항을 제외하고 디스크는 그다지 변하지 않았습니다. 디스크는 여전히 대부분의 시스템에서 가장 느린 부분 중 하나입니다. 즉, 디스크의 동작을 이해하기 위해 디스크를 모니터링 할 수 있기를 원할 것입니다. 이 장에서는 다음과 같은 영역을 살펴 봅니다.

    * 디스크 성능 수치를 측정하기 위한 시스템 카운터 사용
    * 디스크 활동을 수집하는 다른 메카니즘 활용
    • 디스크 성능 이슈 해결

## 3.1 디스크 병목 분석    
SQL Server에는 까다로운 I/O 요구사항이 있을 수 있으며 디스크 속도는 메모리와 CPU에 비해 상대적으로 매우 느리다. 디스크 자원 경합은 SQL Server의 성능을 심각하게 다운 시킬수 있다.  
그렇기 디스크 자원에서 병목 분석과 해결책은 SQL Server의 성능을 급격히 향상 시킨다.

### 디스크 카운터

```
Object(Instance)  Counter                   Description                                     Value
----------------  --------------            ---------------------------------------------   ---------------------------------------
PhysicalDisk      %Disk Time                디스크가 바쁜 비율                              평균 85% 이하여야 하지만 베이스라인 참고
                  Current Disk Queue Length 성능 데이터를 수집 할 때 미해결 디스크 요청 수  베이스라인과 비교
                  Avg. Disk Queue Length    샘플 간격동안 대기중인 디스크 요청 평균 개수    베이스라인과 비교
                  Disk Transfers/sec        디스크 연산중 읽기 쓰기 비율                    I/O 서브시스템의 최대값
                  Disk Bytes/sec            초당 디스크에 접근하는 데이터 전송량            I/O 서브시스템의 최대값
                  Avg.Disk Sec/Read         디스크에서 읽는 평균 시간(ms)                   평균 값 10ms 보다 작아야. 베이스라인 참고
                  Avg.Disk sec/Write        디스크에 쓰는 평균 시간(ms)                     평균 값 10ms 보다 작아야. 베이스라인 참고
```